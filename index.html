<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>البرلمان الطلابي - ثانوية الوائلي للمتميزين</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;600;700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="/assets/imgs/par-pic.jpg" type="image/jpeg">
  </head>
  <body>

    <header class="site-header">
      <div class="brand">
        <div class="logo">ثانوية الوائلي للمتميزين</div>
        <div class="subtitle">البرلمان الطلابي</div>
      </div>
      <nav class="actions">
        <button id="menuToggle" class="btn outline menu-btn hidden" type="button" title="قائمة التنقل">
          <span class="hamburger"></span>
        </button>
        <button id="backBtn" class="btn outline" type="button" title="رجوع">رجوع</button>
      </nav>
    </header>

    <!-- Sidebar Navigation -->
    <div id="sideNav" class="side-nav">
      <div class="side-nav-content">
        <h3>القائمة</h3>
        <nav class="nav-links">
          <a href="#home" class="nav-link nav-link-student active" data-section="home">
            <span class="nav-icon">🖼️</span>
            <span>متصفح الصور</span>
          </a>
          <a href="#announcements" class="nav-link nav-link-student" data-section="announcements">
            <span class="nav-icon">📢</span>
            <span>آخر التبليغات</span>
          </a>
          <a href="#archivedAnnouncements" class="nav-link nav-link-student" data-section="archivedAnnouncements">
            <span class="nav-icon">🗄️</span>
            <span>التبليغات القديمة</span>
          </a>
          <a href="#contact" class="nav-link nav-link-student" data-section="contact">
            <span class="nav-icon">📱</span>
            <span>تواصل معنا</span>
          </a>
          <a href="#stats" class="nav-link nav-link-admin hidden" data-section="stats">
            <span class="nav-icon">📊</span>
            <span>الإحصائيات</span>
          </a>
          <a href="#home" class="nav-link nav-link-admin hidden" data-section="home">
            <span class="nav-icon">🖼️</span>
            <span>متصفح الصور</span>
          </a>
          <a href="#announcements" class="nav-link nav-link-admin hidden" data-section="announcements">
            <span class="nav-icon">📢</span>
            <span>آخر التبليغات</span>
          </a>
          <a href="#archivedAnnouncements" class="nav-link nav-link-admin hidden" data-section="archivedAnnouncements">
            <span class="nav-icon">🗄️</span>
            <span>التبليغات القديمة</span>
          </a>
          <a href="#publish" class="nav-link nav-link-admin hidden" data-section="publish">
            <span class="nav-icon">✍️</span>
            <span>نشر تبليغ/صور</span>
          </a>
          <a href="#messages" class="nav-link nav-link-admin hidden" data-section="messages">
            <span class="nav-icon">📨</span>
            <span>رسائل الطلاب</span>
          </a>
        </nav>
      </div>
    </div>
    <div id="sideNavOverlay" class="side-nav-overlay"></div>


    <main id="main" class="container main-landing">
      <!-- صفحة البداية -->
      <section id="landingView" class="card landing-card">
        <h2 class="landing-title">مرحباً بك في موقع البرلمان الطلابي</h2>
        <p class="landing-subtitle">الرجاء اختيار نوع المستخدم للمتابعة</p>
        
        <div class="landing-cards-container">
          <!-- طالب -->
          <div class="landing-option-card">
            <div class="landing-option-icon">🎓</div>
            <h3 class="landing-option-title">طالب</h3>

            <button id="studentBtn" class="landing-option-btn btn-student" type="button">دخول</button>
          </div>
          
          <!-- مسؤول -->
          <div class="landing-option-card card-admin">
            <div class="landing-option-icon">👨‍💼</div>
            <h3 class="landing-option-title">مسؤول</h3>
            <p class="landing-option-desc"><br/></p>

            <button id="adminBtn" class="landing-option-btn btn-admin" type="button">تسجيل الدخول</button>
          </div>
          
          <!-- برلماني -->
          <div class="landing-option-card">
            <div class="landing-option-icon">🏛️</div>
            <h3 class="landing-option-title">برلماني</h3>

            <button id="mpBtn" class="landing-option-btn btn-member" type="button">تسجيل الدخول</button>
          </div>
        </div>

        <div class="landing-credits">© 2025 البرلمان الطلابي - ثانوية الوائلي للمتميزين</div>

      </section>

      <!-- صفحة الدخول -->
      <section id="loginView" class="card hidden">
        <h2 id="loginTitle">تسجيل الدخول</h2>
        <div id="loginHint" class="hint" style="text-align:center;margin-bottom:8px">أدخل الكود الخاص بك</div>
        <form id="loginForm" class="grid">
          <div class="form-field" style="grid-column: 1 / -1;">
            <label id="loginLabel" for="loginCode">أدخل الكود</label>
            <input id="loginCode" name="loginCode" type="text" placeholder="اكتب الكود المعطى لك من الإدارة" required />
          </div>
          <div class="form-actions" style="grid-column: 1 / -1;">
            <button type="submit" class="btn primary">دخول</button>
          </div>
        </form>
      </section>

      <!-- قسم إحصائيات المسؤول -->
      <section id="statsSection" class="hidden">
        <div class="card stats-card">
          <h2>📊 الإحصائيات</h2>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-icon">📢</div>
              <div class="stat-label">التبليغات</div>
              <div class="stat-value" id="statsAnnouncements">0</div>
            </div>
            <div class="stat-item">
              <div class="stat-icon">🖼️</div>
              <div class="stat-label">الصور</div>
              <div class="stat-value" id="statsImages">0</div>
            </div>
            <div class="stat-item">
              <div class="stat-icon">👥</div>
              <div class="stat-label">الزوار</div>
              <div class="stat-value" id="statsVisitors">-</div>
            </div>
          </div>
        </div>
      </section>

      <!-- قسم المحتوى الرئيسي -->
      <section id="mainContentSection" class="hidden">
        
        <!-- متصفح الصور -->
        <div id="section-home" class="scroll-section">
          <div class="card main-content-card">
            <h2 class="main-title">🏠 متصفح الصور</h2>
            
            <div class="image-slider" id="imageSlider">
              <button class="slider-btn prev" id="sliderPrev">&lsaquo;</button>
              <div class="slider-container">
                <div class="slider-track" id="sliderTrack">
                  <!-- الصور ستضاف هنا -->
                </div>
              </div>
              <button class="slider-btn next" id="sliderNext">&rsaquo;</button>
            </div>
            <div class="slider-dots" id="sliderDots"></div>

            <div id="noAnnouncementsMessage" class="no-announcements-message hidden">
              <div class="no-ann-icon">📄</div>
              <h3>لا توجد تبليغات حالياً</h3>
            </div>
          </div>
        </div>

        <!-- قسم آخر التبليغات -->
        <div id="section-announcements" class="scroll-section">
          <div class="card announcements-card" id="announcementsCard">
            <h2 id="announcementsTitle">📢 آخر التبليغات</h2>
            <div id="annList" class="ann-list-vertical"></div>
            <div id="noAnnouncementsInList" class="no-announcements-message hidden">
              <div class="no-ann-icon">📄</div>
              <h3>لا توجد تبليغات حالياً</h3>
            </div>
          </div>
          
          <!-- قسم التبليغات القديمة -->
          <div class="card announcements-card" id="archivedAnnouncementsCard">
            <h2 id="archivedAnnouncementsTitle">🗄️ التبليغات القديمة</h2>
            <div id="archivedAnnList" class="ann-list-vertical"></div>
            <div id="noArchivedAnnouncements" class="no-announcements-message hidden">
              <div class="no-ann-icon">🗄️</div>
              <h3>لا توجد تبليغات قديمة</h3>
            </div>
          </div>
          
          <!-- قسم تواصل معنا -->
          <div class="card" id="contactFormCard">
            <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 12px;">📞 تواصل معنا</h2>
            <p style="color: var(--muted); margin-bottom: 24px; text-align: center; font-size: 1.05rem;">أرسل رسالتك أو استفسارك إلى البرلمان الطلابي</p>
            <form id="contactForm" class="contact-form-centered">
              <div class="form-field">
                <label for="studentName">الاسم (اختياري)</label>
                <input id="studentName" name="studentName" type="text" placeholder="اسمك الكريم" />
              </div>
              <div class="form-field">
                <label for="studentGrade">الصف <span style="color: var(--danger);">*</span></label>
                <select id="studentGrade" name="studentGrade" required>
                  <option value="">اختر الصف</option>
                  <option value="أول متوسط">أول متوسط</option>
                  <option value="ثاني متوسط">ثاني متوسط</option>
                  <option value="ثالث متوسط">ثالث متوسط</option>
                  <option value="رابع إعدادي">رابع إعدادي</option>
                  <option value="خامس إعدادي">خامس إعدادي</option>
                  <option value="سادس إعدادي">سادس إعدادي</option>
                </select>
              </div>
              <div class="form-field">
                <label for="studentSection">الشعبة <span style="color: var(--danger);">*</span></label>
                <select id="studentSection" name="studentSection" required>
                  <option value="">اختر الشعبة</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
              </div>
              <div class="form-field">
                <label for="studentMessage">الرسالة <span style="color: var(--danger);">*</span></label>
                <textarea id="studentMessage" name="studentMessage" rows="8" placeholder="اكتب رسالتك أو استفسارك هنا..." required></textarea>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary">📤 إرسال الرسالة</button>
              </div>
            </form>
            <div style="text-align: center; margin-top: 32px;">
              <p style="color: var(--muted); margin-bottom: 16px; font-size: 1rem;">أو يمكنك مراسلتنا عبر</p>
              <a href="https://t.me/Alwaely_Parliament_bot" target="_blank" rel="noopener" class="bot-button">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161l-1.894 8.927c-.141.636-.516.794-1.048.494l-2.896-2.135-1.396 1.342c-.155.155-.285.285-.585.285l.208-2.96 5.396-4.873c.234-.208-.051-.325-.364-.117L8.94 13.518l-2.86-.894c-.623-.196-.636-.623.13-.923l11.182-4.308c.52-.194.975.117.806.923z"/>
                </svg>
                <span>🤖 بوت البرلمان الطلابي</span>
              </a>
            </div>
          </div>
        </div>

        <!-- قسم النشر (للمسؤولين فقط) -->
        <div id="section-publish" class="scroll-section hidden">
          <!-- نموذج نشر التبليغ -->
          <div class="card announcements-form-card" id="annFormCard">
            <h2>📢 نشر تبليغ جديد</h2>
            <form id="annForm" class="grid">
              <div class="form-field" style="grid-column: 1 / -1;">
                <label for="annTitle">عنوان التبليغ</label>
                <input id="annTitle" name="annTitle" type="text" placeholder="عنوان التبليغ" required />
              </div>
              <div class="form-field" style="grid-column: 1 / -1;">
                <label for="annContent">محتوى التبليغ</label>
                <textarea id="annContent" name="annContent" rows="4" placeholder="اكتب تفاصيل التبليغ" required></textarea>
              </div>
              
              <div class="upload-options" style="grid-column: 1 / -1;">
                <label style="font-weight: 600; margin-bottom: 8px; display: block;">إضافة صورة (اختياري)</label>
                <div class="option-tabs">
                  <button type="button" class="option-tab-ann active" data-option="none">⊘ بدون صورة</button>
                  <button type="button" class="option-tab-ann" data-option="file">📎 رفع من الجهاز</button>
                  <button type="button" class="option-tab-ann" data-option="url">🔗 إضافة رابط</button>
                </div>
              </div>
              
              <div class="form-field upload-option-content-ann hidden" id="annUploadOptionFile" style="grid-column: 1 / -1;">
                <label for="annImageFile">اختر صورة من جهازك</label>
                <input id="annImageFile" name="annImageFile" type="file" accept="image/*" />
                <div class="hint">يدعم JPG, PNG, GIF حتى 5MB</div>
              </div>
              
              <div class="form-field upload-option-content-ann hidden" id="annUploadOptionUrl" style="grid-column: 1 / -1;">
                <label for="annImageUrl">رابط الصورة</label>
                <input id="annImageUrl" name="annImageUrl" type="url" placeholder="https://example.com/image.jpg" />
              </div>
              
              <div class="form-actions" style="grid-column: 1 / -1;">
                <button type="submit" class="btn primary">📤 نشر التبليغ</button>
              </div>
            </form>
          </div>

          <!-- نموذج رفع صور -->
          <div class="card" id="galleryUploadForm">
            <h2>🖼️ إضافة صور جديدة</h2>
            <form id="galleryForm" class="grid">
              <div class="upload-options" style="grid-column: 1 / -1;">
                <div class="option-tabs">
                  <button type="button" class="option-tab active" data-option="file">📎 رفع من الجهاز</button>
                  <button type="button" class="option-tab" data-option="url">🔗 إضافة رابط</button>
                </div>
              </div>
              
              <div class="form-field upload-option-content" id="uploadOptionFile" style="grid-column: 1 / -1;">
                <label for="galleryImageFile">اختر صورة من جهازك</label>
                <input id="galleryImageFile" name="galleryImageFile" type="file" accept="image/*" />
                <div class="hint">يدعم JPG, PNG, GIF حتى 5MB</div>
              </div>
              
              <div class="form-field upload-option-content hidden" id="uploadOptionUrl" style="grid-column: 1 / -1;">
                <label for="galleryImageUrl">رابط الصورة</label>
                <input id="galleryImageUrl" name="galleryImageUrl" type="url" placeholder="https://example.com/image.jpg" />
              </div>
              
              <div class="form-actions" style="grid-column: 1 / -1;">
                <button type="submit" class="btn primary">إضافة صورة</button>
              </div>
            </form>
          </div>
          
        </div>
        
        <!-- قسم رسائل الطلاب (للمسؤولين فقط) -->
        <div id="section-messages" class="scroll-section hidden">
          <div class="card" id="studentMessagesCard">
            <h2>📨 رسائل الطلاب</h2>
            <div id="studentMessagesList" class="ann-list-vertical"></div>
            <div id="noStudentMessages" class="no-announcements-message hidden">
              <div class="no-ann-icon">📨</div>
              <h3>لا توجد رسائل</h3>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- مكان رسائل التنبيه المتقدمة -->
    <div id="toastRoot" class="toast-root" aria-live="polite" aria-atomic="true"></div>

    <!-- Footer -->
    <footer class="site-footer" id="siteFooter">
      <div class="footer-content">
        <!-- قسم وسائل التواصل -->
        <div class="social-links" style="grid-column: 1 / -1;">
          <h3>تابعنا على</h3>
          <div class="social-icons">
            <a href="https://t.me/alwaely_Parliament" target="_blank" rel="noopener" class="social-icon telegram" title="تليجرام">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161l-1.894 8.927c-.141.636-.516.794-1.048.494l-2.896-2.135-1.396 1.342c-.155.155-.285.285-.585.285l.208-2.96 5.396-4.873c.234-.208-.051-.325-.364-.117L8.94 13.518l-2.86-.894c-.623-.196-.636-.623.13-.923l11.182-4.308c.52-.194.975.117.806.923z"/>
              </svg>
            </a>
            <a href="#" target="_blank" rel="noopener" class="social-icon youtube" title="يوتيوب">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
              </svg>
            </a>
            <a href="https://vt.tiktok.com/ZSUxcLNco/" target="_blank" rel="noopener" class="social-icon tiktok" title="تيكتوك">
              <svg viewBox="0 0 2859 3333" fill="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="tiktokGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#25F4EE;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#FE2C55;stop-opacity:1" />
                  </linearGradient>
                </defs>
                <path d="M2081 0c55 473 319 755 778 785v532c-266 26-499-61-770-225v995c0 1264-1378 1659-1932 753-356-583-138-1606 1004-1647v561c-87 14-180 36-265 65-254 86-398 247-358 531 77 544 1075 705 992-358V1h551z" fill="url(#tiktokGradient)"/>
              </svg>
            </a>
          </div>
        </div>

        <!-- معلومات المطور -->
        <div class="footer-info">
          <p>تطوير وبرمجة: باقر أسعد حسين</p>
          <p class="copyright">&copy; 2025 البرلمان الطلابي - ثانوية الوائلي للمتميزين</p>
        </div>
      </div>
    </footer>

    <script src="app.js"></script>
  </body>
</html>
